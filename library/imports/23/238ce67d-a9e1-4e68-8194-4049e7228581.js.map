{"version":3,"sources":["../../../../../assets/scripts/UI/assets/scripts/UI/ButtonCtl.js"],"names":["cc","Class","extends","Component","properties","pressedScale","transDuration","onLoad","self","audioMng","find","getComponent","initScale","node","scale","button","Button","scaleDownAction","scaleTo","scaleUpAction","onTouchDown","event","stopAllActions","playButton","runAction","onTouchUp","on"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,sBAAc,CADN;AAERC,uBAAe;AAFP,KAHP;;AAQLC,YAAQ,kBAAY;AAChB,YAAIC,OAAO,IAAX;AACA,YAAIC,WAAWT,GAAGU,IAAH,CAAQ,2BAAR,KAAwCV,GAAGU,IAAH,CAAQ,2BAAR,CAAvD;AACA,YAAID,QAAJ,EAAc;AACVA,uBAAWA,SAASE,YAAT,CAAsB,cAAtB,CAAX;AACH;AACDH,aAAKI,SAAL,GAAiB,KAAKC,IAAL,CAAUC,KAA3B;AACAN,aAAKO,MAAL,GAAcP,KAAKG,YAAL,CAAkBX,GAAGgB,MAArB,CAAd;AACAR,aAAKS,eAAL,GAAuBjB,GAAGkB,OAAH,CAAWV,KAAKF,aAAhB,EAA+BE,KAAKH,YAApC,CAAvB;AACAG,aAAKW,aAAL,GAAqBnB,GAAGkB,OAAH,CAAWV,KAAKF,aAAhB,EAA+BE,KAAKI,SAApC,CAArB;AACA,iBAASQ,WAAT,CAAsBC,KAAtB,EAA6B;AACzB,iBAAKC,cAAL;AACA,gBAAIb,QAAJ,EAAcA,SAASc,UAAT;AACd,iBAAKC,SAAL,CAAehB,KAAKS,eAApB;AACH;AACD,iBAASQ,SAAT,CAAoBJ,KAApB,EAA2B;AACvB,iBAAKC,cAAL;AACA,iBAAKE,SAAL,CAAehB,KAAKW,aAApB;AACH;AACD,aAAKN,IAAL,CAAUa,EAAV,CAAa,YAAb,EAA2BN,WAA3B,EAAwC,KAAKP,IAA7C;AACA,aAAKA,IAAL,CAAUa,EAAV,CAAa,UAAb,EAAyBD,SAAzB,EAAoC,KAAKZ,IAAzC;AACA,aAAKA,IAAL,CAAUa,EAAV,CAAa,aAAb,EAA4BD,SAA5B,EAAuC,KAAKZ,IAA5C;AAEH;AA/BI,CAAT","file":"ButtonCtl.js","sourceRoot":"../../../../../assets/scripts/UI","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        pressedScale: 1,\n        transDuration: 0\n    },\n\n    onLoad: function () {\n        var self = this;\n        var audioMng = cc.find('HomeSceneMng/AudioManager') || cc.find(\"GameSceneMng/AudioManager\");\n        if (audioMng) {\n            audioMng = audioMng.getComponent('AudioManager');\n        }\n        self.initScale = this.node.scale;\n        self.button = self.getComponent(cc.Button);\n        self.scaleDownAction = cc.scaleTo(self.transDuration, self.pressedScale);\n        self.scaleUpAction = cc.scaleTo(self.transDuration, self.initScale);\n        function onTouchDown (event) {\n            this.stopAllActions();\n            if (audioMng) audioMng.playButton();\n            this.runAction(self.scaleDownAction);\n        }\n        function onTouchUp (event) {\n            this.stopAllActions();\n            this.runAction(self.scaleUpAction);\n        }\n        this.node.on('touchstart', onTouchDown, this.node);\n        this.node.on('touchend', onTouchUp, this.node);\n        this.node.on('touchcancel', onTouchUp, this.node);\n        \n    }\n});\n"]}